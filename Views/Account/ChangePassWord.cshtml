
@{
    ViewBag.Title = "ChangePassWord";
    Layout = null;
}

<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8" />

    <title>Trang Quên mật khẩu</title>

    <link rel="stylesheet" href="~/wwwroot/css/Qmk.css" />
</head>

<body>
    <div class="img">
        <img src="~/wwwroot/Images/bg1.jpg" alt="bg1" />

        <img src="~/wwwroot/Images/bg 2.jpg" alt="bg2" />

        <img src="~/wwwroot/Images/bg3.jpg" alt="bg3" />

        <img src="~/wwwroot/Images/bg4.jpg" alt="bg4" />
    </div>

    <div class="content">
        <div>
            <header>
                <img src="~/wwwroot/Images/Logo.jpg" alt="logo" />
            </header>
        </div>
        @if (TempData["Notice"] != null)
        {
            <div id="Notice" style="display: flex; align-items: center; justify-content: center;
                            position: absolute; top: 20px; left: 50%; transform: translateX(-50%);
                            padding: 10px 20px; color: white; background-color: red;
                            height: auto; max-width: 90%; z-index: 1000;
                            border-radius: 5px; font-weight: bold;">
                @TempData["Notice"]
            </div>
        }
        @using (Html.BeginForm("ChangePass", "Account", FormMethod.Post, new { id = "formInput" }))
        {
            <div class="thongtin">
                <input class="passwordOld"
                       type="password"
                       id="mkcu"
                       name="mkcu"
                       placeholder="Nhập mật khẩu cũ" />

                <br />

                <br />
                <br />
                <input type="password"
                       name="nhapmk"
                       id="nhapmk"
                       placeholder="Nhập mật khẩu mới" />
                <br />
                <input type="password"
                       name="nhaplaimk"
                       id="nhaplaimk"
                       placeholder="Nhập lại mật khẩu mới" />
                <br />
                <button type="submit" id="DMK" name="DMK">Đổi mật khẩu</button> <br />
                <i><a href="@Url.Action("Login","Account")">Quay lại trang đăng nhập</a></i>
            </div>
        }

    </div>
    <script>
        setTimeout(function () {
            var alert = document.getElementById('Notice');
            if (alert) {
                alert.style.display = 'none';
            }
        }, 3000);
        const form = document.getElementById("formInput");
        const mkcu = document.getElementById("mkcu");
        const mk = document.getElementById("nhapmk");
        const lmk = document.getElementById("nhaplaimk");

        form.addEventListener("submit", function (event) {
            let errors = [];

            if (!mkcu.value.trim()) {
                errors.push("Mật khẩu cũ không được để trống");
                mkcu.style.border = "3px solid red";
            } else {
                mkcu.style.border = "";
            }

            if (!mk.value.trim()) {
                errors.push("Mật khẩu mới không được để trống");
                mk.style.border = "3px solid red";
            } else {
                mk.style.border = "";
            }

            if (lmk.value.trim() !== mk.value.trim()) {
                errors.push("Mật khẩu nhập lại không khớp");
                lmk.style.border = "3px solid red";
            } else {
                lmk.style.border = "";
            }

            if (errors.length > 0) {
                event.preventDefault();
                alert(errors.join("\n"));
            }
        });

    </script>
</body>
</html>


